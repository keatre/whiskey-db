name: Validate Tag Prefix

on:
  push:
    tags:
      - '*'

jobs:
  ensure_v_prefix:
    runs-on: ubuntu-latest
    steps:
      - name: Check tag name
        run: |
          if [[ "${GITHUB_REF_NAME}" != v* ]]; then
            echo "::error::Tag '${GITHUB_REF_NAME}' must start with 'v'."
            exit 1
          fi
          echo "Tag '${GITHUB_REF_NAME}' passes prefix check."
